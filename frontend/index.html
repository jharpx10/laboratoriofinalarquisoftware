<!DOCTYPE html>
<html>
<head>
    <title>Gesti�n empleados</title>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>


</head>
<body>
    <!-- Grey with black text -->
    <nav class="navbar navbar-expand-sm bg-dark navbar-light">
        <ul class="nav">
            <li>
                <a class="navbar-brand" href="/">
                    <img src="/img/logo(1).jpg" width="30" height="30"
                         class="d-inline-block align-top" alt="" loading="lazy">
                    GESTIÓN EMPLEADOS
                </a>
            </li>
           
          
            <li class="nav-item">
                <a class="nav-link" href="index.html">AGREGAR EMPLEADO</a>
            </li>

            <li class="nav-item">
                <a class="nav-link" href="listAllView.html">LISTA DE EMPLEADOS</a>
            </li>
          
            <li class="nav-item">
                <a class="nav-link" onclick="increase()">INCREMENTAR SALARIO</a>
            </li>
        </ul>
        
    </nav>

    <div class="container p-4">
        <div class="col-xs-5 col-sm-5 col-md-5 col-lg-5 col-xl-5 mx-auto">



            <div class="form-group">
                <div class="form-inline">
                    <label for="name">Nombres empleado</label>
                    <input type="text" class="form-control" name="firstName" id="firstName" placeholder="Nombres" autofocus />
                </div>
            </div>

            <div class="form-group">
                <div class="form-inline">
                    <label for="name">Apellidos empleado</label>
                    <input type="text" class="form-control" name="lastName" id="lastName" placeholder="Apellidos" />
                </div>
            </div>


            <div class="form-group">
                <div class="form-inline">
                    <label for="name">Ocupaci�n</label>
                    <input type="text" class="form-control" name="occupation" id="occupation" placeholder="Ocupaci�n" />
                </div>
            </div>

            <div class="form-group">
                <div class="form-inline">
                    <label for="name">Salario</label>
                    <input type="number" class="form-control" name="salary" id="salary" placeholder="Salario" />
                </div>
            </div>

            <div class="form-group">
                <div class="form-inline">
                    <label for="name">Direcci�n</label>
                    <input type="text" class="form-control" name="address" id="address" placeholder="Direcci�n" autofocus />
                </div>
            </div>

            <div class="form-group">
                <div class="form-inline">
                    <label for="name">Oficina</label>
                    <input type="text" class="form-control" name="office" id="office" placeholder="Oficina" />
                </div>
            </div>


            <div class="form-group">
                <div class="form-inline">
                    <label for="name">Dependencia</label>
                    <input type="text" class="form-control" name="dependency" id="dependency" placeholder="Dependencia" />
                </div>
            </div>

            <div class="form-group">
                <div class="form-inline">
                    <label for="name">A�os</label>
                    <input type="number" class="form-control" name="years" id="years" placeholder="A�os en la empresa" />
                </div>
            </div>

            <div class="form-group">
                <button onclick="sendPost()" class="btn btn-success btn-block">Guardar</button>
            </div>
        </div>
    </div>

    <script>

        function increase() {
            $.ajax({
                type: "GET",
                url: "http://192.168.1.2:8089/persona/increasesalary/",
                success: function () {
                    window.location.href = 'listAllView.html';
                }
            });
        }

        function sendPost() {

            var json2 = JSON.stringify({
                firstName: $("#firstName").val(),
                lastName: $("#lastName").val(),
                occupation: $("#occupation").val(),
                salary: $("#salary").val(),
                address: $("#address").val(),
                office: $("#office").val(),
                dependency: $("#dependency").val(),
                years: $("#years").val(),

            });

            /* var json = '{"firstName":"' + $("#firstName").val() +
                 '", "lastName":"' + $("#lastName").val() +
                 '", "occupation":"' + $("#occupation").val() +
                 '", "salary":"' + $("#salary").val() +
                 '", "address":"' + $("#address").val() +
                 '", "office":"' + $("#office").val() +
                 '", "dependency":"' + $("#dependency").val() +
                 '", "years":"' + $("#years").val()+'"}';*/

            $.ajax({
                type: "POST",
                url: "http://192.168.1.2:8089/persona/save",
                data: json2,
                success: function () { },
                dataType: "json",
                contentType: "application/json"
            });
            alert('Empleado guardado exitosamente!')
            window.location.href = 'listAllView.html';


        }
    </script>


</body>


</html >
